{% extends 'product/base.html' %}

{% load static %}

{% block content %}
<div id="favorites_page">
<header  class="masthead text-center text-white d-flex">
  <div class="container my-auto">
    <div class="row">
      <div class="col-md-10 mx-auto">
        <h1 class="text-uppercase">
          MES PRODUITS
        </h1>
        <hr>
      </div>
  </div>
</header>

<section id="favorites">
  <div class="container">
    {% if not favorites %}
    <div class="alert alert-warning">
      Vous n'avez aucun produit sauvegard√©.<br>
    </div>
    {% endif %}
    <div class="row">
    {% for favorite in favorites %}
      <div class="card col-md-5 mx-auto">
      <!-- Default panel contents -->
        <div class="card-header text-center">
          <strong>{{ favorite.0.product_name }}</strong><br>
          Marque: <i>{{ favorite.0.brands}}</i><br>
          <img class="img-fluid" src="/static/product/img/nutrition_grades/nutriscore-{{ favorite.0.nutrition_grades }}.png" alt="nutriscore non disponible" width=15%">
        </div>
        <!-- List group -->
        <ul class="list-group list-group-flush">
        {% for substitute in favorite.1 %}
          <li class="list-group-item">
          <div class="row">
            <div class="col-md-11">
              <strong>{{ substitute.product_name }}</strong>
              <img class="img-fluid" src="/static/product/img/nutrition_grades/nutriscore-{{ substitute.nutrition_grades }}.png" alt="nutriscore non disponible" width=12%"><br>
              Marque: <i>{{ substitute.brands}}</i>
            </div>
          </div>
          </li>
        {% endfor %}
        </ul>
        <a class="btn my-auto" href="/favorite/{{ favorite.0.id }}"">Afficher</a>
      </div>
    {% endfor %}
    </div>
  </div>
</section>
</div>

{% endblock %}
